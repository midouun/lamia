<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ù…Ø­Ø§ÙƒØ§Ø© SPSS - Ù„Ù…ÙŠØ§Ø¡</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary: #2c5aa0; /* IBM Blue */
            --bg-color: #f4f4f9;
            --border-color: #ccc;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            color: #333;
        }

        /* --- ØªØµÙ…ÙŠÙ… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (ÙŠØ®ØªÙÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©) --- */
        .app-container {
            max-width: 950px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 80vh;
        }

        header {
            background: var(--primary);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stepper {
            display: flex;
            border-bottom: 1px solid #eee;
            background: #fff;
        }

        .step {
            flex: 1;
            padding: 15px;
            text-align: center;
            font-size: 0.9rem;
            color: #999;
            border-left: 1px solid #f0f0f0;
            transition: 0.3s;
            cursor: default;
        }
        .step.active {
            background: #ecf6ff;
            color: var(--primary);
            font-weight: bold;
            border-bottom: 3px solid var(--primary);
        }

        .content-area {
            flex: 1;
            padding: 30px;
            position: relative;
        }

        .panel { display: none; animation: fadeIn 0.5s; }
        .panel.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© */
        table.sim-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }
        table.sim-table th, table.sim-table td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: center;
        }
        table.sim-table th { background-color: #f8f9fa; color: var(--primary); }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .controls {
            padding: 20px;
            background: #fafafa;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }
        .btn {
            padding: 10px 30px;
            border: none;
            border-radius: 5px;
            font-family: 'Cairo', sans-serif;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }
        .btn-next { background: var(--primary); color: white; }
        .btn-next:hover { background: #1a3c70; }
        .btn-prev { background: #e0e0e0; color: #555; }
        .btn-print { background: #d32f2f; color: white; display: none; }
        .btn-print:hover { background: #b71c1c; }

        /* --- ØªØµÙ…ÙŠÙ… Ø§Ù„ØªÙ‚Ø±ÙŠØ± (ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø© ÙˆØ§Ù„Ø·Ø¨Ø§Ø¹Ø©) --- */
        #final-report {
            border: 1px solid #ddd;
            padding: 40px; /* Ù‡Ø§Ù…Ø´ Ù„Ù„ÙˆØ±Ù‚Ø© */
            background: white;
            width: 100%;
            box-sizing: border-box;
            display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
        }
        
        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© */
        .report-header {
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .report-logo { font-size: 1.5rem; font-weight: bold; margin-bottom: 5px; }
        .report-meta { font-size: 0.9rem; color: #555; }
        
        .report-section { margin-bottom: 30px; }
        .report-section h3 { 
            font-size: 1.1rem; 
            background: #eee; 
            padding: 5px 10px; 
            border-right: 4px solid var(--primary); 
        }

        /* --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© (Ø§Ù„Ø³Ø± ÙÙŠ Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„) --- */
        @media print {
            body { background: white; padding: 0; }
            .app-container, .controls, .stepper, header { display: none !important; }
            #final-report { 
                display: block !important; 
                border: none; 
                position: absolute; 
                top: 0; 
                left: 0; 
                width: 100%; 
                margin: 0;
                padding: 20px;
            }
            .panel { display: none !important; }
            /* Ø¥Ø¬Ø¨Ø§Ø± Ø§Ù„Ù…ØªØµÙØ­ Ø¹Ù„Ù‰ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† */
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
    </style>
</head>
<body>

<div class="app-container">
    <header>
        <div style="font-weight:bold;">IBM SPSS Statistics</div>
        <div style="font-size:0.9rem;">Ù…Ø­Ø§ÙƒØ§Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© - Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø«Ø§Ù„Ø«</div>
    </header>

    <div class="stepper">
        <div class="step active" id="step-btn-1">1. ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª</div>
        <div class="step" id="step-btn-2">2. ØªÙØ±ÙŠØº Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
        <div class="step" id="step-btn-3">3. Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„</div>
        <div class="step" id="step-btn-4">4. Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</div>
    </div>

    <div class="content-area">
        
        <div class="panel active" id="panel-1">
            <h2 style="color:var(--primary)">1. Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª (Variable View)</h2>
            <p>Ù†Ù‚ÙˆÙ… Ø¨ØªØ¹Ø±ÙŠÙ Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†. Ù„Ø§Ø­Ø¸ÙŠ ÙƒÙŠÙ Ù‚Ù…Ù†Ø§ Ø¨ØªØ±Ù…ÙŠØ² "Ø§Ù„Ø¬Ù†Ø³" Ùˆ"Ø§Ù„Ø±Ø¶Ø§":</p>
            <table class="sim-table">
                <thead>
                    <tr><th>#</th><th>Nom (Ø§Ù„Ø§Ø³Ù…)</th><th>Type</th><th>LibellÃ© (Ø§Ù„ÙˆØµÙ)</th><th>Values (Ø§Ù„Ù‚ÙŠÙ…)</th><th>Mesure</th></tr>
                </thead>
                <tbody>
                    <tr><td>1</td><td style="color:blue">Sexe</td><td>NumÃ©rique</td><td>Ø§Ù„Ø¬Ù†Ø³</td><td>{1=Ø°ÙƒØ±, 2=Ø£Ù†Ø«Ù‰}</td><td>Nominal ğŸˆ</td></tr>
                    <tr><td>2</td><td style="color:blue">Satisf</td><td>NumÃ©rique</td><td>Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</td><td>{1=ØºÙŠØ± Ø±Ø§Ø¶... 3=Ø±Ø§Ø¶}</td><td>Ordinal ğŸ“Š</td></tr>
                </tbody>
            </table>
        </div>

        <div class="panel" id="panel-2">
            <h2 style="color:var(--primary)">2. Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data View)</h2>
            <p>ØªÙ… ØªÙØ±ÙŠØº 10 Ø§Ø³ØªÙ…Ø§Ø±Ø§Øª ÙƒÙ…Ø«Ø§Ù„ (ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø¯Ø±Ø³ ØµÙØ­Ø© 29):</p>
            <table class="sim-table">
                <thead><tr><th>#</th><th>Sexe</th><th>Satisf</th></tr></thead>
                <tbody>
                    <tr><td>1</td><td>1 (Ø°ÙƒØ±)</td><td>3 (Ø±Ø§Ø¶)</td></tr>
                    <tr><td>2</td><td>2 (Ø£Ù†Ø«Ù‰)</td><td>1 (ØºÙŠØ± Ø±Ø§Ø¶)</td></tr>
                    <tr><td>3</td><td>1 (Ø°ÙƒØ±)</td><td>3 (Ø±Ø§Ø¶)</td></tr>
                    <tr><td>4</td><td>2 (Ø£Ù†Ø«Ù‰)</td><td>2 (Ù…Ø­Ø§ÙŠØ¯)</td></tr>
                    <tr><td>5</td><td>1 (Ø°ÙƒØ±)</td><td>1 (ØºÙŠØ± Ø±Ø§Ø¶)</td></tr>
                    <tr><td colspan="3" style="color:#888;">... Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (10 Ø£Ø´Ø®Ø§Øµ) ...</td></tr>
                </tbody>
            </table>
        </div>

        <div class="panel" id="panel-3">
            <h2 style="color:var(--primary)">3. ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ­Ù„ÙŠÙ„ (Analyse)</h2>
            <div style="text-align:center; padding: 40px;">
                <p style="font-size:1.2rem;">Ø§Ø¶ØºØ·ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£Ù…Ø±:</p>
                <code style="background:#333; color:#0f0; padding:10px; display:block; margin:20px auto; width:fit-content; direction:ltr;">
                    Analyse > Statistiques descriptives > FrÃ©quences
                </code>
                <button onclick="simulateProcessing()" class="btn" style="background:#fdbb2d; color:#000; margin-top:20px;">
                    âš™ï¸ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                </button>
                <div id="loader" style="display:none; margin-top:20px; font-weight:bold; color:green;">
                    Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©...
                </div>
            </div>
        </div>

        <div class="panel" id="panel-4">
            <h2 style="color:var(--primary); text-align:center;">ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­! âœ…</h2>
            <p style="text-align:center;">ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø£Ø¯Ù†Ø§Ù‡ØŒ Ø«Ù… Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø·Ø¨Ø§Ø¹Ø© / Ø­ÙØ¸ PDF".</p>
            
            <div id="final-report" style="display:block; border:1px solid #ccc; box-shadow:0 0 15px rgba(0,0,0,0.1);">
                <div class="report-header">
                    <div class="report-logo">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù…Ø­Ù…Ø¯ Ø¨ÙˆÙ‚Ø±Ø© - Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³</div>
                    <div class="report-meta">ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© ÙˆØ§Ù„ØªØ¬Ø§Ø±ÙŠØ© ÙˆØ¹Ù„ÙˆÙ… Ø§Ù„ØªØ³ÙŠÙŠØ±</div>
                    <div class="report-meta">Ù…Ù‚ÙŠØ§Ø³: ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªÙ‚ØµØ§Ø¡ (SPSS) | Ø§Ù„Ø·Ø§Ù„Ø¨Ø©: Ù„Ù…ÙŠØ§Ø¡</div>
                </div>

                <div class="report-section">
                    <h3>1. Statistiques Descriptives (Ø§Ù„Ø¥Ø­ØµØ§Ø¡ Ø§Ù„ÙˆØµÙÙŠ)</h3>
                    <table class="sim-table" style="border:2px solid #000; width:100%;">
                        <tr style="background:#eee;">
                            <th>Ø§Ù„Ù…ØªØºÙŠØ±</th>
                            <th>N (Ø§Ù„Ø¹Ø¯Ø¯)</th>
                            <th>Moyenne (Ø§Ù„Ù…ØªÙˆØ³Ø·)</th>
                            <th>Ecart-type (Ø§Ù„Ø§Ù†Ø­Ø±Ø§Ù)</th>
                        </tr>
                        <tr>
                            <td>Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</td>
                            <td>10</td>
                            <td>2.00</td>
                            <td>0.94</td>
                        </tr>
                    </table>
                    <p style="font-size:0.9rem;">* ØªØ¹Ù„ÙŠÙ‚: Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠ Ù‡Ùˆ 2.00 Ù…Ù…Ø§ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø±Ø¶Ø§ Ù…ØªÙˆØ³Ø·.</p>
                </div>

                <div class="report-section">
                    <h3>2. Tableau de FrÃ©quence (Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª)</h3>
                    <table class="sim-table" style="width:100%;">
                        <thead>
                            <tr>
                                <th>Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©</th>
                                <th>Effectifs (Ø§Ù„ØªÙƒØ±Ø§Ø±)</th>
                                <th>Pourcentage %</th>
                                <th>Cumul %</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>ØºÙŠØ± Ø±Ø§Ø¶ (1)</td><td>4</td><td>40.0%</td><td>40.0%</td></tr>
                            <tr><td>Ù…Ø­Ø§ÙŠØ¯ (2)</td><td>2</td><td>20.0%</td><td>60.0%</td></tr>
                            <tr><td>Ø±Ø§Ø¶ (3)</td><td>4</td><td>40.0%</td><td>100.0%</td></tr>
                            <tr style="font-weight:bold; background:#eee;"><td>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Total</td><td>10</td><td>100.0%</td><td></td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="report-section">
                    <h3>3. Diagramme en bÃ¢tons (Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ)</h3>
                    <div style="width: 70%; margin: 0 auto;">
                        <canvas id="spssChart"></canvas>
                    </div>
                </div>

                <div style="margin-top:40px; border-top:1px solid #000; padding-top:10px; display:flex; justify-content:space-between; font-size:0.8rem;">
                    <span>Output Generated by IBM SPSS Statistics</span>
                    <span>Page 1 of 1</span>
                </div>
            </div>

        </div>

    </div>

    <div class="controls">
        <button class="btn btn-prev" id="prevBtn" onclick="move(-1)" disabled>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button class="btn btn-next" id="nextBtn" onclick="move(1)">Ø§Ù„ØªØ§Ù„ÙŠ</button>
        <button class="btn btn-print" id="printBtn" onclick="printReport()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© / Ø­ÙØ¸ PDF</button>
    </div>
</div>

<script>
    let currentStep = 1;
    let chartRendered = false;

    function move(dir) {
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø­Ø§Ù„ÙŠ
        document.getElementById(`panel-${currentStep}`).classList.remove('active');
        document.getElementById(`step-btn-${currentStep}`).classList.remove('active');
        
        currentStep += dir;
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
        document.getElementById(`panel-${currentStep}`).classList.add('active');
        document.getElementById(`step-btn-${currentStep}`).classList.add('active');

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        document.getElementById('prevBtn').disabled = (currentStep === 1);
        
        if (currentStep === 4) {
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('printBtn').style.display = 'block';
            if (!chartRendered) renderChart();
        } else {
            document.getElementById('nextBtn').style.display = 'block';
            document.getElementById('printBtn').style.display = 'none';
        }
    }

    function simulateProcessing() {
        document.getElementById('loader').style.display = 'block';
        setTimeout(() => {
            move(1); // Ø§Ù†ØªÙ‚Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© ÙˆÙ†ØµÙ
        }, 1500);
    }

    function renderChart() {
        const ctx = document.getElementById('spssChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['ØºÙŠØ± Ø±Ø§Ø¶ (1)', 'Ù…Ø­Ø§ÙŠØ¯ (2)', 'Ø±Ø§Ø¶ (3)'],
                datasets: [{
                    label: 'Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† (Effectifs)',
                    data: [4, 2, 4],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.6)', // Ø£Ø­Ù…Ø±
                        'rgba(54, 162, 235, 0.6)', // Ø£Ø²Ø±Ù‚
                        'rgba(75, 192, 192, 0.6)'  // Ø£Ø®Ø¶Ø±
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(75, 192, 192, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                animation: false, // Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ø·Ø¨Ø§Ø¹Ø© Ù„ØªØ¸Ù‡Ø± Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© ÙÙˆØ±Ø§Ù‹
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: { stepSize: 1 }
                    }
                },
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø±Ø¶Ø§ Ø¹Ù† Ø¸Ø±ÙˆÙ Ø§Ù„Ø¹Ù…Ù„' }
                }
            }
        });
        chartRendered = true;
    }

    function printReport() {
        window.print();
    }
</script>

</body>
</html>
