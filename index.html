<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¹Ø§Ù„Ø¬ SPSS Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ - Ù„Ù„Ù…ÙŠØ§Ø¡</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary: #2c5aa0; /* Ù„ÙˆÙ† SPSS Ø§Ù„Ø£Ø²Ø±Ù‚ */
            --secondary: #e0e0e0;
            --accent: #ff9800;
            --text: #333;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f6f9;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
        .app-container {
            width: 90%;
            max-width: 1000px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 90vh;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
        header {
            background: var(--primary);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        header h1 { margin: 0; font-size: 1.2rem; }
        header .badge { background: var(--accent); color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-bar {
            display: flex;
            background: #fff;
            border-bottom: 1px solid #ddd;
        }
        .step-indicator {
            flex: 1;
            padding: 15px;
            text-align: center;
            font-size: 0.9rem;
            color: #aaa;
            border-left: 1px solid #eee;
            position: relative;
            transition: 0.3s;
        }
        .step-indicator.active {
            color: var(--primary);
            font-weight: bold;
            background: #f0f7ff;
            border-bottom: 3px solid var(--primary);
        }
        .step-indicator.completed {
            color: green;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .content-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            position: relative;
        }

        /* Ø¥Ø®ÙØ§Ø¡ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø®Ø·ÙˆØ§Øª */
        .step-content { display: none; animation: fadeIn 0.5s; }
        .step-content.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Ø¬Ø¯Ø§ÙˆÙ„ SPSS */
        table.spss-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
            margin-bottom: 15px;
            background: white;
        }
        table.spss-table th, table.spss-table td {
            border: 1px solid #ccc;
            padding: 6px 10px;
            text-align: center;
        }
        table.spss-table th { background: #f0f0f0; font-weight: normal; border-bottom: 2px solid #999; }
        
        /* ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØªØ­ÙƒÙ… */
        footer {
            background: #f9f9f9;
            padding: 15px 20px;
            border-top: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
        }
        .btn {
            padding: 10px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: 0.2s;
        }
        .btn-next { background: var(--primary); color: white; }
        .btn-next:hover { background: #1d437b; }
        .btn-prev { background: #ddd; color: #333; }
        .btn-prev:hover { background: #ccc; }
        .btn-pdf { background: #d32f2f; color: white; display: none; } /* ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© */

        /* Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù†ÙˆØ§ÙØ° */
        .window-simulation {
            border: 1px solid #999;
            background: white;
            padding: 10px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
            height: 100%;
            overflow: auto;
        }

        /* ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª */
        #final-report {
            border: 1px solid #000;
            padding: 40px;
            background: white;
            font-family: 'Times New Roman', serif;
        }
        .report-header { text-align: center; border-bottom: 2px solid black; margin-bottom: 20px; padding-bottom: 10px; }
        .sp-log { font-family: monospace; background: #eee; padding: 10px; margin-bottom: 15px; font-size: 12px; }
    </style>
</head>
<body>

<div class="app-container">
    <header>
        <h1>IBM SPSS Statistics - Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h1>
        <span class="badge">Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø®Ø§Øµ Ø¨Ù„Ù…ÙŠØ§Ø¡</span>
    </header>

    <div class="progress-bar">
        <div class="step-indicator active" id="ind-1">1. ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª<br><small>Vue des variables</small></div>
        <div class="step-indicator" id="ind-2">2. Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª<br><small>Vue de donnÃ©es</small></div>
        <div class="step-indicator" id="ind-3">3. Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„<br><small>Analyse</small></div>
        <div class="step-indicator" id="ind-4">4. Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªÙ‚Ø±ÙŠØ±<br><small>Sortie & PDF</small></div>
    </div>

    <div class="content-area">
        
        <div id="step-1" class="step-content active">
            <h3>Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰: ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª (Variable View)</h3>
            [span_0](start_span)<p>ÙŠØ§ Ù„Ù…ÙŠØ§Ø¡ØŒ Ø£ÙˆÙ„ Ø´ÙŠØ¡ ÙÙŠ SPSS Ù‡Ùˆ Ø£Ù† Ù†Ø®Ø¨Ø± Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†[span_0](end_span).</p>
            <div class="window-simulation">
                <table class="spss-table">
                    <thead>
                        <tr><th>#</th><th>Nom (Ø§Ù„Ø§Ø³Ù…)</th><th>Type (Ø§Ù„Ù†ÙˆØ¹)</th><th>Label (Ø§Ù„ÙˆØµÙ)</th><th>Values (Ø§Ù„Ù‚ÙŠÙ…)</th><th>Mesure (Ø§Ù„Ù‚ÙŠØ§Ø³)</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td style="color:blue">Sexe</td>
                            <td>Numeric</td>
                            <td>Ø¬Ù†Ø³ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ</td>
                            <td>{1=Ø°ÙƒØ±, 2=Ø£Ù†Ø«Ù‰}</td>
                            <td>Nominal <span style="font-size:16px">ğŸˆğŸˆğŸˆ</span></td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td style="color:blue">Age</td>
                            <td>Numeric</td>
                            <td>ÙƒÙ… Ø¹Ù…Ø±ÙƒØŸ</td>
                            <td>None</td>
                            <td>Scale <span style="font-size:16px">ğŸ“</span></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td style="color:blue">Satisf</td>
                            <td>Numeric</td>
                            <td>Ù…Ø¯Ù‰ Ø±Ø¶Ø§Ùƒ Ø¹Ù† Ø§Ù„Ø®Ø¯Ù…Ø©</td>
                            <td>{1=ØºÙŠØ± Ø±Ø§Ø¶... 5=Ø±Ø§Ø¶ Ø¬Ø¯Ø§}</td>
                            <td>Ordinal <span style="font-size:16px">ğŸ“Š</span></td>
                        </tr>
                    </tbody>
                </table>
                [span_1](start_span)<p><i>ğŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø©: ØªØ°ÙƒØ±ÙŠ Ø£Ù† Ø®Ø§Ù†Ø© "Nom" Ù„Ø§ ØªÙ‚Ø¨Ù„ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª[span_1](end_span).</i></p>
            </div>
        </div>

        <div id="step-2" class="step-content">
            <h3>Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: ØªÙØ±ÙŠØº Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù† (Data View)</h3>
            <p>Ø§Ù„Ø¢Ù† Ù†Ù†ØªÙ‚Ù„ Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. [span_2](start_span)ÙƒÙ„ Ø³Ø·Ø± Ù‡Ù†Ø§ ÙŠÙ…Ø«Ù„ "Ø´Ø®ØµØ§Ù‹" ÙˆØ§Ø­Ø¯Ø§Ù‹ Ù…Ù„Ø£ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø±Ø©[span_2](end_span).</p>
            <div class="window-simulation">
                <table class="spss-table">
                    <thead>
                        <tr><th></th><th>Sexe</th><th>Age</th><th>Satisf</th></tr>
                    </thead>
                    <tbody>
                        <tr><td style="background:#eee">1</td><td>1</td><td>24</td><td>4</td></tr>
                        <tr><td style="background:#eee">2</td><td>2</td><td>22</td><td>5</td></tr>
                        <tr><td style="background:#eee">3</td><td>1</td><td>28</td><td>2</td></tr>
                        <tr><td style="background:#eee">4</td><td>2</td><td>21</td><td>4</td></tr>
                        <tr><td style="background:#eee">5</td><td>1</td><td>30</td><td>1</td></tr>
                        <tr><td style="background:#eee">...</td><td>...</td><td>...</td><td>...</td></tr>
                    </tbody>
                </table>
                <p><i>ØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª 50 Ø´Ø®ØµØ§Ù‹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù‡Ø°Ù‡ Ø§Ù„ØªØ¬Ø±Ø¨Ø©!</i></p>
            </div>
        </div>

        <div id="step-3" class="step-content">
            <h3>Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ø®ØªØ§Ø±ÙŠ Ù†ÙˆØ¹ Ø§Ù„ØªØ­Ù„ÙŠÙ„</h3>
            <p>Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ÙŠÙ† Ø£Ù† ØªÙØ¹Ù„ÙŠ ÙŠØ§ Ù„Ù…ÙŠØ§Ø¡ØŸ [span_3](start_span)Ø§Ø®ØªØ§Ø±ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©[span_3](end_span).</p>
            
            <div style="display:flex; gap:20px; justify-content:center; margin-top:50px;">
                <button class="btn" style="border:1px solid #ccc; background:white; padding:20px;" onclick="selectAnalysis('desc')">
                    <strong style="font-size:1.2rem; display:block; margin-bottom:10px;">ğŸ“Š Ø¥Ø­ØµØ§Ø¡ ÙˆØµÙÙŠ</strong>
                    Descriptives / FrÃ©quences
                </button>
                <button class="btn" style="border:1px solid #ccc; background:white; padding:20px;" onclick="selectAnalysis('rel')">
                    <strong style="font-size:1.2rem; display:block; margin-bottom:10px;">ğŸ”— Ø¹Ù„Ø§Ù‚Ø§Øª ÙˆØ§Ø±ØªØ¨Ø§Ø·</strong>
                    Correlations / Crosstabs
                </button>
            </div>
            <div id="analysis-msg" style="text-align:center; margin-top:20px; color:green; font-weight:bold; display:none;">
                Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©... Ø§Ø¶ØºØ·ÙŠ "Ø§Ù„ØªØ§Ù„ÙŠ" Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬!
            </div>
        </div>

        <div id="step-4" class="step-content">
            <h3>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© (Output Viewer)</h3>
            [span_4](start_span)<p>Ù‡Ø°Ù‡ Ù‡ÙŠ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª Ø§Ù„ØªÙŠ Ù†Ø¨Ø­Ø« Ø¹Ù†Ù‡Ø§[span_4](end_span). ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ù…ÙŠÙ„Ù‡Ø§ Ø§Ù„Ø¢Ù†.</p>
            
            <div id="final-report">
                <div class="report-header">
                    <h2>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠ - Ø¬Ø§Ù…Ø¹Ø© Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³</h2>
                    <p>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ù„ÙŠÙ„: <span id="current-date"></span></p>
                </div>

                <div class="sp-log">
                    GET FILE='C:\Users\Lamia\Documents\spss_data.sav'.<br>
                    DATASET NAME DataSet1 WINDOW=FRONT.<br>
                    FREQUENCIES VARIABLES=Sexe Satisf /STATISTICS=MEAN MEDIAN.
                </div>

                <h4>Statistics (Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª)</h4>
                <table class="spss-table" style="border:2px solid #000;">
                    <tr><th>Ø§Ù„Ù…ØªØºÙŠØ±</th><th>N (Ø§Ù„Ø¹Ø¯Ø¯)</th><th>Mean (Ø§Ù„Ù…ØªÙˆØ³Ø·)</th><th>Std. Deviation</th></tr>
                    <tr><td>Ø§Ù„Ø³Ù† (Age)</td><td>50</td><td>24.42</td><td>5.22</td></tr>
                    <tr><td>Ø§Ù„Ø±Ø¶Ø§ (Satisf)</td><td>50</td><td>3.50</td><td>1.12</td></tr>
                </table>

                [span_5](start_span)<h4>Tableau de FrÃ©quence: Sexe (Ø§Ù„Ø¬Ù†Ø³)[span_5](end_span)</h4>
                <table class="spss-table" style="border:2px solid #000;">
                    <tr><th></th><th>Frequency</th><th>Percent</th><th>Valid Percent</th></tr>
                    <tr><td>Ø°ÙƒØ±</td><td>21</td><td>42.0%</td><td>42.0%</td></tr>
                    <tr><td>Ø£Ù†Ø«Ù‰</td><td>29</td><td>58.0%</td><td>58.0%</td></tr>
                    <tr><td><b>Total</b></td><td><b>50</b></td><td><b>100.0%</b></td><td><b>100.0%</b></td></tr>
                </table>

                [span_6](start_span)<h4>Correlations (Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø·)[span_6](end_span)</h4>
                <p>Ù†Ù„Ø§Ø­Ø¸ ÙˆØ¬ÙˆØ¯ Ø§Ø±ØªØ¨Ø§Ø· Ù‚ÙˆÙŠ ÙˆÙ…Ø¹Ù†ÙˆÙŠ (Sig = 0.000) Ø¨ÙŠÙ† Ø§Ù„Ø±Ø¶Ø§ ÙˆØ§Ù„Ø³Ù†.</p>
                
                <div style="margin-top:20px; text-align:center; color:#666;">
                    -- Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªÙ‚Ø±ÙŠØ± --
                </div>
            </div>
        </div>

    </div>

    <footer>
        <button class="btn btn-prev" id="prevBtn" onclick="changeStep(-1)" disabled>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <div style="flex:1"></div>
        <button class="btn btn-next" id="nextBtn" onclick="changeStep(1)">Ø§Ù„ØªØ§Ù„ÙŠ</button>
        <button class="btn btn-pdf" id="pdfBtn" onclick="generatePDF()">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± PDF</button>
    </footer>
</div>

<script>
    let currentStep = 1;
    const totalSteps = 4;

    // ÙˆØ¶Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
    document.getElementById('current-date').innerText = new Date().toLocaleDateString('ar-DZ');

    function changeStep(n) {
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        document.getElementById(`step-${currentStep}`).classList.remove('active');
        document.getElementById(`ind-${currentStep}`).classList.remove('active');
        if(n === 1) document.getElementById(`ind-${currentStep}`).classList.add('completed');

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ù‚Ù…
        currentStep += n;

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        document.getElementById(`step-${currentStep}`).classList.add('active');
        document.getElementById(`ind-${currentStep}`).classList.add('active');

        // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        document.getElementById('prevBtn').disabled = (currentStep === 1);
        
        if (currentStep === totalSteps) {
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('pdfBtn').style.display = 'block';
        } else {
            document.getElementById('nextBtn').style.display = 'block';
            document.getElementById('nextBtn').innerText = 'Ø§Ù„ØªØ§Ù„ÙŠ';
            document.getElementById('pdfBtn').style.display = 'none';
        }
    }

    function selectAnalysis(type) {
        document.querySelectorAll('#step-3 button').forEach(b => b.style.background = 'white');
        event.currentTarget.style.background = '#e3f2fd';
        document.getElementById('analysis-msg').style.display = 'block';
    }

    function generatePDF() {
        const element = document.getElementById('final-report');
        const opt = {
            margin:       10,
            filename:     'Ù†ØªØ§Ø¦Ø¬_ØªØ­Ù„ÙŠÙ„_SPSS_Ù„Ù…ÙŠØ§Ø¡.pdf',
            image:        { type: 'jpeg', quality: 0.98 },
            html2canvas:  { scale: 2 },
            jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒØªØ¨Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„Ù
        html2pdf().set(opt).from(element).save();
    }
</script>

</body>
</html>
